<html>
<head>
  <title>A Picture Worth 1000</title>
  <style>
    .background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-position: center center;
      background-repeat: no-repeat;
      background-size: cover;
      z-index: -1;
      transition: opacity 1s ease-in-out;
    }
    #background2 {
      z-index: -2;
    }
    /* ...existing styles... */
    header {
      position: fixed;
      top: 0;
      width: 90%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      margin: 0 auto;
      z-index: 3;
    }
    /* ...existing styles... */
  </style>
</head>
<body>
  <div id="background1" class="background"></div>
  <div id="background2" class="background"></div>
  
  <header>
    <!-- Your links and icons here -->
    <!-- ...existing content... -->
  </header>
  <div id="inputContainer">
    <!-- ...existing content... -->
  </div>
  
  <script>
    const inputBox = document.getElementById('inputBox');
    const backgrounds = [];
    let currentBackgroundIndex = 0;

    const bg1 = document.getElementById('background1');
    const bg2 = document.getElementById('background2');

    // Preload images and store their references
    for (let i = 1; i <= 19; i++) {
      const img = new Image();
      img.src = `backgrounds/${i}.png`;
      backgrounds.push(img);
    }

    function cycleBackground() {
      currentBackgroundIndex = (currentBackgroundIndex + 1) % backgrounds.length;

      // Instead of updating the body's background image,
      // we will update one of the two divs and animate the transition.
      const nextBackground = backgrounds[currentBackgroundIndex];
      const visibleBackground = (currentBackgroundIndex % 2 == 0) ? bg1 : bg2;
      const hiddenBackground = (currentBackgroundIndex % 2 == 0) ? bg2 : bg1;

      visibleBackground.style.backgroundImage = `url('${nextBackground.src}')`;
      visibleBackground.style.opacity = '1';
      hiddenBackground.style.opacity = '0';
    }

    // Initial background cycling
    cycleBackground();

    // Start cycling backgrounds every 6 seconds
    setInterval(cycleBackground, 6000);

    // ...existing event listeners and functions...
  </script>
</body>
</html>
